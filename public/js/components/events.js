const React = require('react');
const auth = require('../auth');

const Events = React.createClass({

  getInitialState : function() {
    return {
      events: {}
    }
  },
  componentWillMount : function() {
    console.log('hered');
    $.ajax({
      url: '/api/events/myevents',
      type: 'GET',
      beforeSend: function( xhr ) {
        xhr.setRequestHeader("Authorization", 'Bearer ' + auth.getToken() );
      }
    })
    .done((data) => {
      data.forEach((el) => {
        this.state.events[el.event_id] = el;
        this.setState({ events: this.state.events });
      })
    });


  },
  renderEvent : function(key) {
    return (
      <Event key={key} index={key} details={this.state.events[key]} />
    )
  },

  render : function() {
    return (
      <div>
        <h1>My Events</h1>
        <div className="col s12 m6 l4 row">
          <ul>
            <li>
            
            </li>
          </ul>
        </div>
      </div>
    )
  }
});

const Event = React.createClass({
  render : function() {
    return (
      <li>
        <div>
        <div className="col s12 m12 l4">
          <div className="map-card">
            <div className="card">
              <div className="card-image waves-effect waves-block waves-light">
                <div id="map-canvas" data-lat="40.747688" data-lng="-74.004142" className style={{position: 'relative', overflow: 'hidden', transform: 'translateZ(0px)', backgroundColor: 'rgb(229, 227, 223)'}}><div className="gm-style" style={{position: 'absolute', left: 0, top: 0, overflow: 'hidden', width: '100%', height: '100%', zIndex: 0}}><div style={{position: 'absolute', left: 0, top: 0, overflow: 'hidden', width: '100%', height: '100%', zIndex: 0, cursor: 'url("https://maps.gstatic.com/mapfiles/openhand_8_8.cur") 8 8, default'}}><div style={{position: 'absolute', left: 0, top: 0, zIndex: 1, width: '100%', transformOrigin: '0px 0px 0px', transform: 'matrix(1, 0, 0, 1, 0, 0)'}}><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 100, width: '100%'}}><div style={{position: 'absolute', left: 0, top: 0, zIndex: 0}}><div aria-hidden="true" style={{position: 'absolute', left: 0, top: 0, zIndex: 1, visibility: 'inherit'}}><div style={{width: 256, height: 256, transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: '-127px'}} /><div style={{width: 256, height: 256, transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: 129}} /><div style={{width: 256, height: 256, transform: 'translateZ(0px)', position: 'absolute', left: 227, top: '-127px'}} /><div style={{width: 256, height: 256, transform: 'translateZ(0px)', position: 'absolute', left: 227, top: 129}} /></div></div></div><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 101, width: '100%'}} /><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 102, width: '100%'}} /><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 103, width: '100%'}}><div style={{position: 'absolute', left: 0, top: 0, zIndex: -1}}><div aria-hidden="true" style={{position: 'absolute', left: 0, top: 0, zIndex: 1, visibility: 'inherit'}}><div style={{width: 256, height: 256, overflow: 'hidden', transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: '-127px'}}><canvas draggable="false" height={512} width={512} style={{WebkitUserSelect: 'none', position: 'absolute', left: 0, top: 0, height: 256, width: 256}} /></div><div style={{width: 256, height: 256, overflow: 'hidden', transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: 129}}><canvas draggable="false" height={512} width={512} style={{WebkitUserSelect: 'none', position: 'absolute', left: 0, top: 0, height: 256, width: 256}} /></div><div style={{width: 256, height: 256, overflow: 'hidden', transform: 'translateZ(0px)', position: 'absolute', left: 227, top: '-127px'}} /><div style={{width: 256, height: 256, overflow: 'hidden', transform: 'translateZ(0px)', position: 'absolute', left: 227, top: 129}} /></div></div></div><div style={{position: 'absolute', zIndex: 0, transform: 'translateZ(0px)', left: 0, top: 0}}><div style={{overflow: 'hidden'}} /></div><div style={{position: 'absolute', left: 0, top: 0, zIndex: 0}}><div aria-hidden="true" style={{position: 'absolute', left: 0, top: 0, zIndex: 1, visibility: 'inherit'}}><div style={{transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: 129, transition: 'opacity 200ms ease-out'}}><img src="https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i10!2i301!3i385!4i256!2m3!1e0!2sm!3i341009146!3m14!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!12m4!1e26!2m2!1sstyles!2zcy50OjgyfHMuZTpnLmZ8cC52Om9ufHAuYzojZmZlMGVmZWYscy50OjJ8cy5lOmcuZnxwLnY6b258cC5oOiMxOTAwZmZ8cC5jOiNmZmMwZThlOCxzLnQ6M3xzLmU6Z3xwLmw6MTAwfHAudjpzaW1wbGlmaWVkLHMudDozfHMuZTpsfHAudjpvZmYscy50OjY1fHMuZTpnfHAudjpvbnxwLmw6NzAwLHMudDo2fHAuYzojZmY3ZGNkY2Q!4e0!5m1!5f2&token=118090" draggable="false" alt style={{position: 'absolute', left: 0, top: 0, width: 256, height: 256, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 227, top: 129, transition: 'opacity 200ms ease-out'}}><img src="https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i10!2i302!3i385!4i256!2m3!1e0!2sm!3i341009085!3m14!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!12m4!1e26!2m2!1sstyles!2zcy50OjgyfHMuZTpnLmZ8cC52Om9ufHAuYzojZmZlMGVmZWYscy50OjJ8cy5lOmcuZnxwLnY6b258cC5oOiMxOTAwZmZ8cC5jOiNmZmMwZThlOCxzLnQ6M3xzLmU6Z3xwLmw6MTAwfHAudjpzaW1wbGlmaWVkLHMudDozfHMuZTpsfHAudjpvZmYscy50OjY1fHMuZTpnfHAudjpvbnxwLmw6NzAwLHMudDo2fHAuYzojZmY3ZGNkY2Q!4e0!5m1!5f2&token=45943" draggable="false" alt style={{position: 'absolute', left: 0, top: 0, width: 256, height: 256, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 227, top: '-127px', transition: 'opacity 200ms ease-out'}}><img src="https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i10!2i302!3i384!4i256!2m3!1e0!2sm!3i341009085!3m14!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!12m4!1e26!2m2!1sstyles!2zcy50OjgyfHMuZTpnLmZ8cC52Om9ufHAuYzojZmZlMGVmZWYscy50OjJ8cy5lOmcuZnxwLnY6b258cC5oOiMxOTAwZmZ8cC5jOiNmZmMwZThlOCxzLnQ6M3xzLmU6Z3xwLmw6MTAwfHAudjpzaW1wbGlmaWVkLHMudDozfHMuZTpsfHAudjpvZmYscy50OjY1fHMuZTpnfHAudjpvbnxwLmw6NzAwLHMudDo2fHAuYzojZmY3ZGNkY2Q!4e0!5m1!5f2&token=53333" draggable="false" alt style={{position: 'absolute', left: 0, top: 0, width: 256, height: 256, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div style={{transform: 'translateZ(0px)', position: 'absolute', left: '-29px', top: '-127px', transition: 'opacity 200ms ease-out'}}><img src="https://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i10!2i301!3i384!4i256!2m3!1e0!2sm!3i341009146!3m14!2sen-US!3sUS!5e18!12m1!1e47!12m3!1e37!2m1!1ssmartmaps!12m4!1e26!2m2!1sstyles!2zcy50OjgyfHMuZTpnLmZ8cC52Om9ufHAuYzojZmZlMGVmZWYscy50OjJ8cy5lOmcuZnxwLnY6b258cC5oOiMxOTAwZmZ8cC5jOiNmZmMwZThlOCxzLnQ6M3xzLmU6Z3xwLmw6MTAwfHAudjpzaW1wbGlmaWVkLHMudDozfHMuZTpsfHAudjpvZmYscy50OjY1fHMuZTpnfHAudjpvbnxwLmw6NzAwLHMudDo2fHAuYzojZmY3ZGNkY2Q!4e0!5m1!5f2&token=125480" draggable="false" alt style={{position: 'absolute', left: 0, top: 0, width: 256, height: 256, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div></div></div></div><div style={{position: 'absolute', left: 0, top: 0, zIndex: 2, width: '100%', height: '100%'}} /><div style={{position: 'absolute', left: 0, top: 0, zIndex: 3, width: '100%', height: '100%'}} /><div style={{position: 'absolute', left: 0, top: 0, zIndex: 4, width: '100%', transformOrigin: '0px 0px 0px', transform: 'matrix(1, 0, 0, 1, 0, 0)'}}><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 104, width: '100%'}} /><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 105, width: '100%'}} /><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 106, width: '100%'}} /><div style={{transform: 'translateZ(0px)', position: 'absolute', left: 0, top: 0, zIndex: 107, width: '100%'}} /></div></div><div style={{padding: '15px 21px', border: '1px solid rgb(171, 171, 171)', fontFamily: 'Roboto, Arial, sans-serif', color: 'rgb(34, 34, 34)', boxShadow: 'rgba(0, 0, 0, 0.2) 0px 4px 16px', zIndex: 10000002, display: 'none', width: 237, height: 148, position: 'absolute', left: 5, top: 81, backgroundColor: 'white'}}><div style={{padding: '0px 0px 10px', fontSize: 16}}>Map Data</div><div style={{fontSize: 13}}>Map data ©2016 Google</div><div style={{width: 13, height: 13, overflow: 'hidden', position: 'absolute', opacity: '0.7', right: 12, top: 12, zIndex: 10000, cursor: 'pointer'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/mapcnt6.png" draggable="false" style={{position: 'absolute', left: '-2px', top: '-336px', width: 59, height: 492, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div></div><div className="gmnoprint" style={{zIndex: 1000001, position: 'absolute', right: 72, bottom: 0, width: 121}}><div draggable="false" className="gm-style-cc" style={{WebkitUserSelect: 'none', height: 14, lineHeight: 14}}><div style={{opacity: '0.7', width: '100%', height: '100%', position: 'absolute'}}><div style={{width: 1}} /><div style={{width: 'auto', height: '100%', marginLeft: 1, backgroundColor: 'rgb(245, 245, 245)'}} /></div><div style={{position: 'relative', paddingRight: 6, paddingLeft: 6, fontFamily: 'Roboto, Arial, sans-serif', fontSize: 10, color: 'rgb(68, 68, 68)', whiteSpace: 'nowrap', direction: 'ltr', textAlign: 'right', verticalAlign: 'middle', display: 'inline-block'}}><a style={{color: 'rgb(68, 68, 68)', textDecoration: 'none', cursor: 'pointer', display: 'none'}}>Map Data</a><span>Map data ©2016 Google</span></div></div></div><div className="gmnoscreen" style={{position: 'absolute', right: 0, bottom: 0}}><div style={{fontFamily: 'Roboto, Arial, sans-serif', fontSize: 11, color: 'rgb(68, 68, 68)', direction: 'ltr', textAlign: 'right', backgroundColor: 'rgb(245, 245, 245)'}}>Map data ©2016 Google</div></div><div className="gmnoprint gm-style-cc" draggable="false" style={{zIndex: 1000001, WebkitUserSelect: 'none', height: 14, lineHeight: 14, position: 'absolute', right: 0, bottom: 0}}><div style={{opacity: '0.7', width: '100%', height: '100%', position: 'absolute'}}><div style={{width: 1}} /><div style={{width: 'auto', height: '100%', marginLeft: 1, backgroundColor: 'rgb(245, 245, 245)'}} /></div><div style={{position: 'relative', paddingRight: 6, paddingLeft: 6, fontFamily: 'Roboto, Arial, sans-serif', fontSize: 10, color: 'rgb(68, 68, 68)', whiteSpace: 'nowrap', direction: 'ltr', textAlign: 'right', verticalAlign: 'middle', display: 'inline-block'}}><a href="https://www.google.com/intl/en-US_US/help/terms_maps.html" target="_blank" style={{textDecoration: 'none', cursor: 'pointer', color: 'rgb(68, 68, 68)'}}>Terms of Use</a></div></div><div style={{width: 25, height: 25, overflow: 'hidden', display: 'none', margin: '10px 14px', position: 'absolute', top: 0, right: 0}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/sv5.png" draggable="false" className="gm-fullscreen-control" style={{position: 'absolute', left: '-52px', top: '-86px', width: 164, height: 112, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0}} /></div><div draggable="false" className="gm-style-cc" style={{WebkitUserSelect: 'none', height: 14, lineHeight: 14, display: 'none', position: 'absolute', right: 0, bottom: 0}}><div style={{opacity: '0.7', width: '100%', height: '100%', position: 'absolute'}}><div style={{width: 1}} /><div style={{width: 'auto', height: '100%', marginLeft: 1, backgroundColor: 'rgb(245, 245, 245)'}} /></div><div style={{position: 'relative', paddingRight: 6, paddingLeft: 6, fontFamily: 'Roboto, Arial, sans-serif', fontSize: 10, color: 'rgb(68, 68, 68)', whiteSpace: 'nowrap', direction: 'ltr', textAlign: 'right', verticalAlign: 'middle', display: 'inline-block'}}><a target="_new" title="Report errors in the road map or imagery to Google" href="https://www.google.com/maps/@40.67,-73.94,10z/data=!10m1!1e1!12b1?source=apiv3&rapsrc=apiv3" style={{fontFamily: 'Roboto, Arial, sans-serif', fontSize: 10, color: 'rgb(68, 68, 68)', textDecoration: 'none', position: 'relative'}}>Report a map error</a></div></div><div className="gmnoprint gm-bundled-control gm-bundled-control-on-bottom" draggable="false" controlwidth={28} controlheight={93} style={{margin: 10, WebkitUserSelect: 'none', position: 'absolute', bottom: 107, right: 28}}><div className="gmnoprint" controlwidth={28} controlheight={55} style={{position: 'absolute', left: 0, top: 38}}><div draggable="false" style={{WebkitUserSelect: 'none', boxShadow: 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px', borderRadius: 2, cursor: 'pointer', width: 28, height: 55, backgroundColor: 'rgb(255, 255, 255)'}}><div title="Zoom in" style={{position: 'relative', width: 28, height: 27, left: 0, top: 0}}><div style={{overflow: 'hidden', position: 'absolute', width: 15, height: 15, left: 7, top: 6}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/tmapctrl_hdpi.png" draggable="false" style={{position: 'absolute', left: 0, top: 0, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none', width: 120, height: 54}} /></div></div><div style={{position: 'relative', overflow: 'hidden', width: '67%', height: 1, left: '16%', top: 0, backgroundColor: 'rgb(230, 230, 230)'}} /><div title="Zoom out" style={{position: 'relative', width: 28, height: 27, left: 0, top: 0}}><div style={{overflow: 'hidden', position: 'absolute', width: 15, height: 15, left: 7, top: 6}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/tmapctrl_hdpi.png" draggable="false" style={{position: 'absolute', left: 0, top: '-15px', WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none', width: 120, height: 54}} /></div></div></div></div><div className="gm-svpc" controlwidth={28} controlheight={28} style={{boxShadow: 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px', borderRadius: 2, width: 28, height: 28, cursor: 'url("https://maps.gstatic.com/mapfiles/openhand_8_8.cur") 8 8, default', position: 'absolute', left: 0, top: 0, backgroundColor: 'rgb(255, 255, 255)'}}><div style={{position: 'absolute', left: 1, top: 1}} /><div style={{position: 'absolute', left: 1, top: 1}}><div aria-label="Street View Pegman Control" style={{width: 26, height: 26, overflow: 'hidden', position: 'absolute', left: 0, top: 0}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style={{position: 'absolute', left: '-147px', top: '-26px', width: 215, height: 835, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div aria-label="Pegman is on top of the Map" style={{width: 26, height: 26, overflow: 'hidden', position: 'absolute', left: 0, top: 0, visibility: 'hidden'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style={{position: 'absolute', left: '-147px', top: '-52px', width: 215, height: 835, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div aria-label="Street View Pegman Control" style={{width: 26, height: 26, overflow: 'hidden', position: 'absolute', left: 0, top: 0, visibility: 'hidden'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style={{position: 'absolute', left: '-147px', top: '-78px', width: 215, height: 835, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div></div></div><div className="gmnoprint" controlwidth={28} controlheight={0} style={{display: 'none', position: 'absolute'}}><div title="Rotate map 90 degrees" style={{width: 28, height: 28, overflow: 'hidden', position: 'absolute', borderRadius: 2, boxShadow: 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px', cursor: 'pointer', display: 'none', backgroundColor: 'rgb(255, 255, 255)'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/tmapctrl4_hdpi.png" draggable="false" style={{position: 'absolute', left: '-141px', top: 6, width: 170, height: 54, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div><div className="gm-tilt" style={{width: 28, height: 28, overflow: 'hidden', position: 'absolute', borderRadius: 2, boxShadow: 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px', top: 0, cursor: 'pointer', backgroundColor: 'rgb(255, 255, 255)'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/tmapctrl4_hdpi.png" draggable="false" style={{position: 'absolute', left: '-141px', top: '-13px', width: 170, height: 54, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0, maxWidth: 'none'}} /></div></div></div><div style={{marginLeft: 5, marginRight: 5, zIndex: 1000000, position: 'absolute', left: 0, bottom: 0}}><a target="_blank" href="https://maps.google.com/maps?ll=40.67,-73.94&z=10&t=m&hl=en-US&gl=US&mapclient=apiv3" title="Click to see this area on Google Maps" style={{position: 'static', overflow: 'visible', float: 'none', display: 'inline'}}><div style={{width: 66, height: 26, cursor: 'pointer'}}><img src="https://maps.gstatic.com/mapfiles/api-3/images/google4_hdpi.png" draggable="false" style={{position: 'absolute', left: 0, top: 0, width: 66, height: 26, WebkitUserSelect: 'none', border: 0, padding: 0, margin: 0}} /></div></a></div></div></div>
                </div>
                <div className="card-content">
                  <a className="btn-floating activator btn-move-up waves-effect waves-light darken-2 right">
                  <i className="mdi-maps-pin-drop" />
                  </a>
                  <h4 className="card-title grey-text text-darken-4"><a href="#" className="grey-text text-darken-4">Company Name LLC</a>
                  </h4>
                  <p className="blog-post-content">Some more information about this company.</p>
                </div>
              <div className="card-reveal">
                <span className="card-title grey-text text-darken-4">Company Name LLC <i className="mdi-navigation-close right" /></span>
                <p>{this.props.details.description}</p>
                <p><i className="mdi-action-perm-identity cyan-text text-darken-2" />{this.props.details.name}</p>
                <p><i className="mdi-communication-business cyan-text text-darken-2" /> {this.props.details.location}</p>
                <p><i className="mdi-action-perm-phone-msg cyan-text text-darken-2" /> {this.props.details.date}</p>
                <p><i className="mdi-communication-email cyan-text text-darken-2" /> support@geekslabs.com</p>
              </div>
            </div>
          </div>
        </div>
      </li>
    )
  }
});

module.exports = Events;
